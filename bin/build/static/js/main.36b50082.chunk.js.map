{"version":3,"sources":["App.js","index.js"],"names":["ctr","App","state","msg","msgs","sendMsg","ev","preventDefault","_this","client","send","setState","handleChange","_ev$target","target","name","value","console","log","Object","defineProperty","_this2","this","W3CWebSocket","onopen","onmessage","data","newMsgs","toConsumableArray","push","react_default","a","createElement","className","map","key","htmlFor","size","onChange","type","onClick","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"mRAOIA,SAAM,GA4DKC,6MAzDbC,MAAQ,CACNC,IAAK,GACLC,KAAM,MAkBRC,QAAU,SAAAC,GACRA,EAAGC,iBACAC,EAAKN,MAAMC,MACZK,EAAKC,OAAOC,KAAKF,EAAKN,MAAMC,KAC5BK,EAAKG,SAAS,CAAER,IAAK,SAIzBS,aAAe,SAACN,GAAO,IAAAO,EACGP,EAAGQ,OAAnBC,EADaF,EACbE,KAAMC,EADOH,EACPG,MACdC,QAAQC,IAAIH,EAAMC,GAClBR,EAAKG,SAALQ,OAAAC,EAAA,EAAAD,CAAA,GAAiBJ,EAAOC,yFA1BN,IAAAK,EAAAC,KAClBA,KAAKb,OAAS,IAAIc,eAAa,4BAE/BD,KAAKb,OAAOe,OAAS,WACnBP,QAAQC,IAAI,+BAGdI,KAAKb,OAAOgB,UAAY,SAACC,GAAS,IACnBvB,EAAQuB,EAAbA,KACFC,EAAOR,OAAAS,EAAA,EAAAT,CAAOE,EAAKnB,MAAME,MAC/BuB,EAAQE,KAAK1B,GACbkB,EAAKV,SAAS,CAAEP,KAAMuB,sCAmBxB,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZX,KAAKpB,MAAME,KAAK8B,IAAI,SAAC/B,GAAD,OAAS2B,EAAAC,EAAAC,cAAA,OAAKG,IAzC9BnC,KAyC0CG,MAEjD2B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,SAAOI,QAAQ,OACbN,EAAAC,EAAAC,cAAA,SAAOK,KAAM,GAAIC,SAAUhB,KAAKV,aAAc2B,KAAK,OAAOxB,KAAK,MAAMC,MAAOM,KAAKpB,MAAMC,QAG3F2B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQO,KAAK,SAASC,QAASlB,KAAKjB,SAApC,gBAjDIoC,IAAMC,WCJxBC,IAASC,OAAOd,EAAAC,EAAAC,cAACa,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.36b50082.chunk.js","sourcesContent":["import React from 'react';\n//import axios from \"axios\";\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nimport './App.css';\n\n\nlet ctr = 0;\nconst id = () => ctr++;\nclass App extends React.Component {\n  state = {\n    msg: \"\",\n    msgs: []\n  }\n\n  componentWillMount(){\n    this.client = new W3CWebSocket(\"ws://localhost:3001/room\");\n\n    this.client.onopen = () => {\n      console.log('WebSocket Client Connected');\n    };\n\n    this.client.onmessage = (data) => {\n      const { data:msg } = data;\n      const newMsgs = [...this.state.msgs];\n      newMsgs.push(msg)\n      this.setState({ msgs: newMsgs })\n    };\n  }\n\n  sendMsg = ev => {\n    ev.preventDefault();\n    if(this.state.msg) {\n      this.client.send(this.state.msg)\n      this.setState({ msg: \"\" })\n    }\n  }\n\n  handleChange = (ev) => {\n    const { name, value } = ev.target;\n    console.log(name, value)\n    this.setState({ [name]: value })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"content-outer\">\n          <div className=\"msgs-list\">\n            {this.state.msgs.map((msg) => <div key={id()}>{msg}</div>)}\n          </div>\n          <div className=\"send-box\">\n            <div className=\"msg-area\">\n              <label htmlFor=\"msg\">\n                <input size={78} onChange={this.handleChange} type=\"text\" name=\"msg\" value={this.state.msg} />\n              </label>\n            </div>\n            <div>\n              <button type=\"submit\" onClick={this.sendMsg}>></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}